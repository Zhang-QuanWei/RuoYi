<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: front_header('完美阅读')"/>

    <style>
        .category .title{
            color: #999;
        }
        
        .category .line{
            margin-bottom: 10px;
        }
        
        .category a{
            text-decoration:none;
            color: #151515;
        }
        
        .category a:hover{
            color: rgb(84, 165, 108);
        }
        
        .bookWord .item{
            width: 9em;
        }
        
        .bookImg img{
            width: 100px;
            height: 132px;
            border-radius: 4px;
            box-shadow: 0 2px 4px 0 rgb(0 0 0 / 20%);
        }
        
        .bookTitle a{
            font-size: 20px;
            color: #333;
        }

        .bookTitle a:link{
            text-decoration: none;
        }

        .bookTitle a:hover{
            color: rgb(84, 165, 108);
        }

        .bookLink{
            margin-top: 15px;
            margin-bottom: 15px;
            font-size: 12px;
            color: rgb(145, 143, 143);
        }

        .bookLink a{
            color: rgb(145, 143, 143);
        }

        .bookLink a:link{
            text-decoration: none;
        }

        .bookLink a:hover{
            color: rgb(84, 165, 108);
        }

        .bookIntro {
            font-size: 13px;
            color: #666;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            /* 用来限制在一个块元素显示的文本的行数 */
            -webkit-line-clamp: 3;
            overflow: hidden;
        }
        
        .on a{
            color: rgb(84, 165, 108);
        }

    </style>
</head>
<body>
    <!-- 页头 -->
    <div class="container">

        <div class="row">
            <!-- 导航条 -->
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <!-- logo -->
                    <div class="navbar-header">
                            <span>
                                <a th:href="@{/front/index}">
                                    <img alt="logo" th:src="@{/../../img/logo.png}" width="150px">
                                </a>
                            </span>
                    </div>
                    <!-- 表单 -->
                    <form class="navbar-form navbar-left" role="search">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="书名、作者、关键字">
                        </div>
                        <button type="submit" class="btn btn-default"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
                    </form>
                    <!-- 文字 -->
                    <p class="navbar-text navbar-right"><a th:href="${user eq null}? @{/front/index/login} : @{/front/index/toBookShelf}" class="navbar-link"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> 我的书架</a> | <a th:href="${user eq null}? @{/front/index/login} : @{/front/index/toUserInfo}" class="navbar-link" th:text="${user eq null}? '登录' : ${user.userName}">登录</a></p>
                </div>
            </nav>

        </div>

    </div>

    <!-- 导航栏 -->
    <div class="navtab" style="background-color:rgb(84, 165, 108);">

        <div class="container">

            <div class="row">
                <ul class="nav nav-tabs">
                    <li role="presentation"><a th:href="@{/front/index}">首页</a></li>
                    <li role="presentation" class="active"><a th:href="@{/front/index/allWork}">全部作品</a></li>
                    <li role="presentation"><a th:href="@{/front/index/toRankList}">排行榜</a></li>
                    <li role="presentation"><a th:href="@{/front/index/toAuthorRegis}">作家专区</a></li>
                </ul>
            </div>

        </div>

    </div>

    <!-- 内容区 -->
    <div class="container">

        <!-- 分类区 -->
        <div class="channel category row">

            <!-- 作品频道 -->
            <div class="line row">

                <div class="title col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    作品频道:
                </div>

                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">男生频道</a>
                </div>

                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">女生频道</a>
                </div>

            </div>

            <!-- 作品分类 -->
            <div class="bookCategory line row">

                <div class="title col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    作品分类:
                </div>

                <div filter="non" class="on bookCategory-non col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)" >不限</a>
                </div>

                <div filter="0" class="bookCategory-0 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">奇幻玄幻</a>
                </div>

                <div filter="1" class="bookCategory-1 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">武侠仙侠</a>
                </div>

                <div filter="2" class="bookCategory-2 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">历史军事</a>
                </div>

                <div filter="3" class="bookCategory-3 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">都市娱乐</a>
                </div>

                <div filter="4" class="bookCategory-4 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">科幻娱乐</a>
                </div>

                <div filter="5" class="bookCategory-5 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">悬疑灵异</a>
                </div>


            </div>

            <!-- 是否完结 -->
            <div class="bookStatus line row">

                <div class="title col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    是否完结:
                </div>


                <div filter="non" class="on bookStatus-non col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">不限</a>
                </div>


                <div filter="0" class="bookStatus-0 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">连载中</a>
                </div>

                <div filter="1" class="bookStatus-1 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">已完结</a>
                </div>



            </div>

            <!-- 作品字数 -->
            <div class="bookWord line row">

                <div class="title col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    作品字数:
                </div>


                <div filter="non" class="on bookWord-non col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">不限</a>
                </div>

                <div filter="30" class="bookWord-below30 item col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">30万字以下</a>
                </div>

                <div filter="50" class="bookWord-below50 item col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">30-50万字</a>
                </div>

                <div filter="100" class="bookWord-below100 item col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">50-100万字</a>
                </div>

                <div filter="1000" class="bookWord-more100 item col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">100万字以上</a>
                </div>
            </div>

            <!-- 更新时间 -->
            <div class="bookUpdate line row">

                <div class="title col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    更新时间:
                </div>

                <div filter="non" class="on bookUpdate-non col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">不限</a>
                </div>
                <div filter="3" class="bookUpdate-3 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">三日内</a>
                </div>
                <div filter="7" class="bookUpdate-7 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">七日内</a>
                </div>
                <div filter="15" class="bookUpdate-15 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">半月内</a>
                </div>
                <div filter="30" class="bookUpdate-30 col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">一月内</a>
                </div>
            </div>

            <!-- 排序方式 -->
            <div class="line row">

                <div class="title col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    排序方式:
                </div>

                <div class="on col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">不限</a>
                </div>
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">更新时间</a>
                </div>
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">总字数</a>
                </div>
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                    <a href="javascript:void(0)">点击量</a>
                </div>


            </div>

        </div>

        <!--  展示区  -->
        <div class="channel row">

            <div class="title">
                <h3>本站最近更新</h3>
                <hr>
            </div>

            <!-- 小说数据面板 -->
            <th:block th:each="book,bookStat:${pageInfo.list}">


                <div th:if="${bookStat.even}" th:class="row">

                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">

                        <div class=" col-xs-3 col-sm-3 col-md-3 col-lg-3">
                            <a class="bookImg" th:href="@{/front/novel(id=${book.id})}">
                                <img th:src="${book.picUrl}" alt="小说封面">
                            </a>

                        </div>

                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">

                            <div class="bookTitle row">
                                <a th:href="@{/front/novel(id=${book.id})}" th:text="${book.bookName}">超神级异兽培育系统</a>
                            </div>

                            <div class="bookLink row">
                                <a href="" th:text="${book.authorName}">小白作家</a> |
                                <a href="" th:text="${@dict.getLabel('book_category', book.bookCategory)}">科幻灵异</a> |
                                <span th:text="${@dict.getLabel('book_book_status', book.bookStatus)}">连载中</span> |
                                <span th:text="${#dates.format(book.updateTime, 'yyyy-MM-dd HH:mm:ss')}"></span>
                            </div>


                            <div class="bookIntro row" th:utext="${book.bookIntro}">
                                <p>你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！</p>
                            </div>

                        </div>
                    </div>

                </div>
                <hr th:if="${bookStat.even}"/>

                <th:block th:if="${bookStat.odd}">

                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">

                        <div class=" col-xs-3 col-sm-3 col-md-3 col-lg-3">
                            <a class="bookImg" th:href="@{/front/novel(id=${book.id})}">
                                <img th:src="${book.picUrl}" alt="小说封面">
                            </a>

                        </div>

                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">

                            <div class="bookTitle row">
                                <a th:href="@{/front/novel(id=${book.id})}" th:text="${book.bookName}">超神级异兽培育系统</a>
                            </div>

                            <div class="bookLink row">
                                <a href="" th:text="${book.authorName}">小白作家</a> |
                                <a href="" th:text="${@dict.getLabel('book_category', book.bookCategory)}">科幻灵异</a> |
                                <span th:text="${@dict.getLabel('book_book_status', book.bookStatus)}">连载中</span> |
                                <span th:text="${#dates.format(book.updateTime, 'yyyy-MM-dd HH:mm:ss')}"></span>
                            </div>


                            <div class="bookIntro row" th:utext="${book.bookIntro}">
                                <p>你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！你好哇，这是一段介绍！</p>
                            </div>

                        </div>
                    </div>

                </th:block>


            </th:block>

        </div>

        <!--分页栏-->
        <nav aria-label="Page navigation" class="text-right">
            <ul class="pagination">
                <li th:class="${pageInfo.isFirstPage}? 'disabled'"><a th:href="@{/front/index/list/{id}(pageNum=1,pageSize=10)}">首页</a></li>
                <li th:class="${pageInfo.isFirstPage}? 'disabled'">
                    <a th:if="${pageInfo.hasPreviousPage}" th:href="@{/front/index/list/{id}(pageNum=${pageInfo.prePage},pageSize=10)}">
                        上一页
                    </a>
                </li>
                <!-- 超出部分显示省略号 -->
                <li th:if="${pageInfo.navigateFirstPage &gt; 1}"><span>&hellip;</span></li>
                <!-- 导航页码 -->
                <th:block th:each="num : ${pageInfo.navigatepageNums}">
                    <li th:class="${pageInfo.pageNum == num} ? 'active'">
                        <a th:href="@{/front/index/list/{id}(pageNum=${num},pageSize=10)}" th:text="${num}">1</a>
                    </li>
                </th:block>
                <!-- 超出部分显示省略号 -->
                <li th:if="${pageInfo.navigateLastPage &lt; pageInfo.pages}"><span>&hellip;</span></li>
                <li th:class="${pageInfo.isLastPage}? 'disabled'">
                    <a th:if="${pageInfo.hasNextPage}" th:href="@{/front/index/list/{id}(pageNum=${pageInfo.nextPage},pageSize=10)}">
                        下一页
                    </a>
                </li>
                <li th:class="${pageInfo.isLastPage}? 'disabled'"><a th:href="@{/front/index/list/{id}(pageNum=${pageInfo.pages},pageSize=10)}">末页</a></li>
            </ul>
        </nav>
    </div>

    <hr>
    <!-- 尾部标签页 -->
    <div class="footer container">
        <p class="text-center">基于SpringBoot的网文阅读网的设计与实现 | create by @zqw | 联系方式：goodzhang888@163.com</p>
    </div>

    <th:block th:include="include :: footer" />
    <!-- jquery-session插件 -->
    <th:block th:include="include :: jquery-session-js"/>


    <script th:inline="javascript">

        var prefix = ctx + "front/allWork";

        $(".category a").click(function () {
            //1. 设置点击效果
            //移除当前元素所有父级元素中class为on的元素的class名“on”
            $(this).parent().siblings(".on").removeClass("on");
            //为当前元素的父元素添加class名“on”
            $(this).parent().addClass("on");

            //2. 获取各部分条件
            var searchData = {};
            // 书籍种类
            var bookCategory = $(".bookCategory > .on").attr("filter");
            if (bookCategory != "non"){
                searchData.bookCategory = bookCategory;
            }else {
                searchData.bookCategory = null;
            }
            //完结状态
            var bookStatus = $(".bookStatus > .on").attr("filter");
            if (bookStatus != "non"){
                searchData.bookStatus = bookStatus;
            }else {
                searchData.bookStatus = null;
            }
            //作品字数
            var bookWord = $(".bookWord > .on").attr("filter");
            if (bookWord != "non"){
                searchData.bookWord = bookWord;
            }else {
                searchData.bookWord = null;
            }
            //更新时间
            var bookUpdate = $(".bookUpdate > .on").attr("filter");
            if (bookUpdate != "non"){
                searchData.bookUpdate = bookUpdate;
            }else {
                searchData.bookUpdate = null;
            }

            console.log(searchData);
            //3. ajax查询
            // $.operate.post(prefix + "/list",{
            //     searchData:searchData
            // });

        });
    </script>
</body>
</html>